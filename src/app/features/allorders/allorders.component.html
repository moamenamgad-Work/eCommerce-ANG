<section class="py-10 px-4">
  <div
    class="title text-3xl md:text-4xl text-white text-center font-medium mb-8"
  >
    <h1>All Orders</h1>
  </div>

  <div class="details-Order max-w-6xl mx-auto">
    <div
      class="overflow-x-auto bg-green-700 rounded-xl hidden md:block shadow-lg"
    >
      <table class="min-w-full text-center border-collapse">
        <thead class="bg-green-800 text-white text-sm md:text-base">
          <tr>
            <th class="px-3 md:px-4 py-3">Num</th>
            <th class="px-3 md:px-4 py-3">Order ID</th>
            <th class="px-3 md:px-4 py-3">Status</th>
            <th class="px-3 md:px-4 py-3">Date</th>
            <th class="px-3 md:px-4 py-3">Items</th>
            <th class="px-3 md:px-4 py-3">Total</th>
          </tr>
        </thead>

        <tbody class="bg-green-600 text-white text-sm md:text-base">
          @for (item of allOrdersData; track $index) {
          <tr
            class="border-b border-green-500 hover:bg-green-500 transition-colors duration-200"
          >
            <td class="px-3 md:px-4 py-3 font-medium whitespace-nowrap">
              {{ $index + 1 }}
            </td>
            <td
              class="px-3 md:px-4 py-3 font-medium text-ellipsis overflow-hidden max-w-[120px] md:max-w-none"
            >
              {{ item._id }}
            </td>
            <td class="px-3 md:px-4 py-3">
              <span
                class="px-3 py-1 rounded-xl text-xs md:text-sm"
                [ngClass]="item.isPaid ? 'bg-green-700' : 'bg-red-600'"
              >
                {{ item.isPaid ? "Paid" : "Unpaid" }}
              </span>
            </td>
            <td class="px-3 md:px-4 py-3 font-medium whitespace-nowrap">
              {{ item.createdAt | date : "short" }}
            </td>
            <td class="px-3 md:px-4 py-3 font-medium">
              {{ getTotalCount(item) }}
            </td>
            <td class="px-3 md:px-4 py-3 font-medium whitespace-nowrap">
              {{ item.totalOrderPrice }} EGP
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>

    <div class="grid grid-cols-1 gap-4 md:hidden mt-6">
      @for (item of allOrdersData; track $index) {
      <div class="bg-green-700 rounded-xl p-4 text-white shadow-lg">
        <div
          class="flex justify-between items-center border-b border-green-500 pb-2 mb-2"
        >
          <h3 class="font-semibold">#{{ $index + 1 }}</h3>
          <span
            class="px-3 py-1 rounded-xl text-xs"
            [ngClass]="item.isPaid ? 'bg-green-800' : 'bg-red-600'"
          >
            {{ item.isPaid ? "Paid" : "Unpaid" }}
          </span>
        </div>

        <p><span class="font-semibold">Order ID:</span> {{ item._id }}</p>
        <p>
          <span class="font-semibold">Date:</span>
          {{ item.createdAt | date : "short" }}
        </p>
        <p>
          <span class="font-semibold">Items:</span> {{ getTotalCount(item) }}
        </p>
        <p>
          <span class="font-semibold">Total:</span>
          {{ item.totalOrderPrice }} EGP
        </p>
      </div>
      }
    </div>
  </div>
</section>
